<!doctype html><html><head>
  <meta charset=utf-8>
  <title>Reference</title>
  <link href="style.css" rel="stylesheet" type="text/css"></meta>

</head><body>
  <div id=content>
<h1> helper functions</h1><p> Functions for comment parsing and unit testing, html generation and list
 operations.
<pre>&nbsp;&nbsp;doc&nbsp;<span class=operator>=</span>&nbsp;require&nbsp;<span class=string>"doc"</span></pre><pre class=success>nil</pre>
 See #doc.parse for how it expects your files to be written.<p><dl><dt id=doc.parse_file><a href=#doc.parse_file>doc.parse_file (file)</a></dt>
<dd><p> Parse documention from file.
 returns a list of sections, where each section is a list of defintions plus a description.</p><p> A Doccomment begins with <code><span class=comment>---</span></code> and continues with <code><span class=comment>--</span></code>, newlines are ignored,
 empty lines seperate paragraphs. For example:
<pre><span class=comment>--- Add 2 numbers.</span><br><span class=comment>-- This function the two numbers 'x' and 'y'.</span><br><span class=comment>-- </span><br><span class=comment>-- WARNING using this function with nil will generate strange errors!</span><br><span class=keyword>function</span>&nbsp;add<span class=operator>(</span>x,&nbsp;y<span class=operator>)</span><br><span class=keyword>return</span>&nbsp;x&nbsp;+&nbsp;y<br><span class=keyword>end</span></pre><pre class=success>nil</pre></p><p> Besides commenting functions, you can also give a file an introductionary
 by starting a doccomment without a function in the next line.
<pre><span class=comment>--- Arithmetic Operations</span><br><span class=comment>-- This module contains a lot of useful arithemtic operations like</span><br><span class=comment>-- + - * / % as well as pow, log, sin, cos, tan, acos, asin, atan, atan2.</span><br><span class=comment>--</span><br><span class=comment>-- This module depends on the math module.</span><br>require&nbsp;<span class=string>"math"</span><br><br><span class=comment>-- ...</span><br><span class=comment>-- rest of the file</span></pre><pre class=success>nil</pre></p></dd><dt id=doc.gen_file><a href=#doc.gen_file>doc.gen_file (sections)</a></dt>
<dd><p> Generate documentation and run unit tests for file.</p></dd><dt id=doc.gen_dir><a href=#doc.gen_dir>doc.gen_dir (dir)</a></dt>
<dd><p>
 Apply #doc.gen_file for Lua-files and #doc.gen_dir for directories to all elements of dir.</p></dd></dl><h2> HTML-generators</h2><p><p><dl><dt id=doc.syntax_highlight><a href=#doc.syntax_highlight>doc.syntax_highlight (string)</a></dt>
<dd><p> Wrap corresponding parts of Lua-Code with HTML-Spans of the classes
 <code>comment</code>, <code>string</code>, <code>escape</code>, <code>operator</code> and <code>keyword</code>. Does not really
 work with multiline comments or multiline strings, everything else should
 be fine.
<pre><span class=keyword>return</span>&nbsp;doc.syntax_highlight<span class=operator>(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=string>"function get(table, key)"</span><br>&nbsp;..&nbsp;<span class=string>"    return table[key]"</span><br>&nbsp;..&nbsp;<span class=string>"end"</span><br><span class=operator>)</span></pre><pre class=success><span class=string>"&lt;span class=keyword>function&lt;/span>&nbsp;get&lt;span class=operator>(&lt;/span>table,&nbsp;key&lt;span class=operator>)&lt;/span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;span class=keyword>return&lt;/span>&nbsp;table&lt;span class=operator>[&lt;/span>key&lt;span class=operator>]&lt;/span>&lt;span class=keyword>end&lt;/span>"</span></pre></p></dd><dt id=doc.def_template><a href=#doc.def_template>doc.def_template (dt, dd)</a></dt>
<dd><p> Make a HTML-dl-Element (definition list) out of a string <code>dt</code> and a
 string <code>dd</code>. <code>dt</code> must contain a space.
<pre><span class=keyword>return</span>&nbsp;doc.def_template<span class=operator>(</span><span class=string>"Fish (Animal)"</span>,&nbsp;<span class=string>"Fish (from latin fishius) is a animal commonly found in water."</span><span class=operator>)</span></pre><pre class=success><span class=string>"&lt;dt id=Fish>&lt;a href=#Fish>Fish (Animal)&lt;/a>&lt;/dt><br>&lt;dd>Fish (from latin fishius) is a animal commonly found in water.&lt;/dd>"</span></pre></p></dd><dt id=doc.file_template><a href=#doc.file_template>doc.file_template (content, navigation)</a></dt>
<dd><p> An html template.
 pass a string <code>content</code> and a string <code>navigation</code>. returns an html string.</p></dd><dt id=doc.link><a href=#doc.link>doc.link (string)</a></dt>
<dd><p> Link #path.to.something for local references and <a href=path.to.something.lua.html#>path.to.something</a> for references to other files.</p></dd><dt id=doc.wrap><a href=#doc.wrap>doc.wrap (text, element)</a></dt>
<dd><p> Wrap text with HMTL-Element elem.
<pre><span class=keyword>return</span>&nbsp;doc.wrap<span class=operator>(</span><span class=string>"in italics"</span>,&nbsp;<span class=string>"em"</span><span class=operator>)</span></pre><pre class=success><span class=string>"&lt;em>in italics&lt;/em>"</span></pre></p></dd><dt id=doc.wraps><a href=#doc.wraps>doc.wraps (list, element)</a></dt>
<dd><p> Wrap a list of elements with HTML-Element elem.
<pre><span class=keyword>return</span>&nbsp;doc.wraps<span class=operator>(</span><span class=operator>{</span><span class=string>"hallo"</span>,&nbsp;<span class=string>"bello"</span>,&nbsp;<span class=string>"cello"</span><span class=operator>}</span>,&nbsp;<span class=string>"p"</span><span class=operator>)</span></pre><pre class=success><span class=string>"&lt;p>hallo&lt;/p>&lt;p>bello&lt;/p>&lt;p>cello&lt;/p>"</span></pre></p></dd></dl><h2> Useful List operations</h2><p><p><dl><dt id=doc.map><a href=#doc.map>doc.map (list, f, ...)</a></dt>
<dd><p> Transform elems of list with f.
<pre><span class=keyword>return</span>&nbsp;doc.map<span class=operator>(</span><span class=operator>{</span>1,2,3<span class=operator>}</span>,&nbsp;<span class=keyword>function</span>&nbsp;<span class=operator>(</span>x<span class=operator>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=keyword>return</span>&nbsp;x+1<br>end<span class=operator>)</span></pre><pre class=success><span class=operator>{</span>2,&nbsp;3,&nbsp;4<span class=operator>}</span></pre></p></dd><dt id=doc.pluck><a href=#doc.pluck>doc.pluck (key, list)</a></dt>
<dd><p> Replace every element of list with its key-property.
<pre><span class=keyword>return</span>&nbsp;doc.pluck<span class=operator>(</span><span class=string>"name"</span>,&nbsp;<span class=operator>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=operator>{</span>name<span class=operator>=</span><span class=string>"Frank"</span>,&nbsp;age<span class=operator>=</span>25<span class=operator>}</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=operator>{</span>name<span class=operator>=</span><span class=string>"Josefine"</span>,&nbsp;mail<span class=operator>=</span><span class=string>"josefine@example.com"</span><span class=operator>}</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=operator>{</span>name<span class=operator>=</span><span class=string>"Adalbert"</span>,&nbsp;friends<span class=operator>=</span><span class=operator>{</span><span class=string>"Frank"</span>,&nbsp;<span class=string>"Josefine"</span><span class=operator>}</span>,&nbsp;age<span class=operator>=</span>61<span class=operator>}</span><br><span class=operator>}</span>,&nbsp;<span class=string>", "</span><span class=operator>)</span></pre><pre class=success><span class=operator>{</span><span class=string>"Adalbert"</span>,&nbsp;<span class=string>"Frank"</span>,&nbsp;<span class=string>"Josefine"</span><span class=operator>}</span></pre></p></dd><dt id=doc.repr><a href=#doc.repr>doc.repr (value)</a></dt>
<dd><p> Almost serialisation ;)</p><p> like pythons repr function.
<pre><span class=keyword>return</span>&nbsp;doc.repr<span class=operator>(</span>nil<span class=operator>)</span></pre><pre class=success><span class=string>"nil"</span></pre>
<pre><span class=keyword>return</span>&nbsp;doc.repr<span class=operator>(</span>1<span class=operator>)</span></pre><pre class=success><span class=string>"1"</span></pre>
<pre><span class=keyword>return</span>&nbsp;doc.repr&nbsp;<span class=string>"teststring"</span></pre><pre class=success><span class=string>"<span class=escape>\"</span>teststring<span class=escape>\"</span>"</span></pre>
<pre><span class=keyword>return</span>&nbsp;doc.repr&nbsp;<span class=operator>{</span>1,&nbsp;2,&nbsp;b<span class=operator>=</span>7,&nbsp;3,&nbsp;a<span class=operator>=</span>6,&nbsp;4,&nbsp;nil,&nbsp;5<span class=operator>}</span></pre><pre class=success><span class=string>"{1, 2, 3, 4, 6=5, a=6, b=7}"</span></pre>
<pre><span class=keyword>return</span>&nbsp;doc.repr<span class=operator>(</span><span class=keyword>function</span>&nbsp;<span class=operator>(</span><span class=operator>)</span>&nbsp;end<span class=operator>)</span></pre><pre class=success><span class=string>"function: 0x20b99c0"</span></pre></p></dd></dl>
  </div><div id=navigation>
<a href=index.html>> Index</a><h2> helper functions</h2><li><a href=#doc.parse_file>doc.parse_file (file)</a></li><li><a href=#doc.gen_file>doc.gen_file (sections)</a></li><li><a href=#doc.gen_dir>doc.gen_dir (dir)</a></li><h3> HTML-generators</h3><li><a href=#doc.syntax_highlight>doc.syntax_highlight (string)</a></li><li><a href=#doc.def_template>doc.def_template (dt, dd)</a></li><li><a href=#doc.file_template>doc.file_template (content, navigation)</a></li><li><a href=#doc.link>doc.link (string)</a></li><li><a href=#doc.wrap>doc.wrap (text, element)</a></li><li><a href=#doc.wraps>doc.wraps (list, element)</a></li><h3> Useful List operations</h3><li><a href=#doc.map>doc.map (list, f, ...)</a></li><li><a href=#doc.pluck>doc.pluck (key, list)</a></li><li><a href=#doc.repr>doc.repr (value)</a></li>
  </div><footer style=margin-right>
    generated with docl
  </footer></body></html>