## Find source and headers
FILE(GLOB_RECURSE HEADERS *.h)
FILE(GLOB_RECURSE SOURCES *.c*)

IF(CMAKE_HAS_SORT)
  LIST(SORT HEADERS)
  LIST(SORT SOURCES)
ENDIF(CMAKE_HAS_SORT)

## Build
INCLUDE_DIRECTORIES(
  ${LUA_INCLUDE_DIR}
)

SET(CMAKE_SHARED_LIBRARY_PREFIX "")
ADD_LIBRARY(lua-utf8 ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES(lua-utf8 ${LUA_LIBRARIES})

INSTALL(TARGETS lua-utf8 DESTINATION ${NEO_INSTALL_DIR})
