## Find source and headers
FILE(GLOB_RECURSE HEADERS *.h*)
FILE(GLOB_RECURSE SOURCES *.c*)

IF(CMAKE_HAS_SORT)
  LIST(SORT HEADERS)
  LIST(SORT SOURCES)
ENDIF(CMAKE_HAS_SORT)

## Build
ADD_DEFINITIONS(
  -DASSIMP_BUILD_BOOST_WORKAROUND
  -DASSIMP_BUILD_NO_OWN_ZLIB
)

INCLUDE_DIRECTORIES(
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${ASSIMP_INCLUDE_DIR}
  ${ZLIB_INCLUDE_DIR}
  code/BoostWorkaround
)

ADD_LIBRARY(assimp STATIC ${SOURCES} ${HEADERS})

TARGET_LINK_LIBRARIES(assimp ${ZLIB_LIBRARIES})
